<html>

<style media="screen">
  /*@keyframes lineani {
    0% {
      stroke-dashoffset: 200px;
      stroke-width: 0.2;
    }
    100% {
      stroke-dashoffset: 0px;
      stroke-width: 0.5;
    }
  }
  @keyframes lineanichu {
    0% {
      stroke-dashoffset: 200px;
      stroke-width: 0.2;
    }
    100% {
      stroke-dashoffset: -29px;
      stroke-width: 0.5;
    }
  }*/
  /*svg * {
    stroke-dasharray: 200px;
    stroke-dashoffset: 200px;
    animation: 10s lineani cubic-bezier(.7,.3,0,1) both;
  }*/
</style>

<!-- <link rel="stylesheet" href="../dist/css/oasisline.css"> -->

<body>



  <svg xmlns="http://www.w3.org/2000/svg" width="700" height="700" viewBox="0 0 300 300">
  <polygon points="172.359 235.792 255.622 243.089 208.365 161.317 172.359 235.792" style="fill:#30232d"/>
  <polygon points="194.516 215.806 208.365 161.317 182.352 140.069 194.516 215.806" style="fill:#573229"/>
  <polygon points="88.009 64.347 122.451 139.38 145.86 32.111 88.009 64.347" style="fill:#f9f9f9"/>
  <polygon points="128.414 236.055 45.241 253.438 91.579 165.542 128.414 236.055" style="fill:#30232d"/>
  <polygon points="102.254 209.15 91.579 165.542 122.451 139.38 102.254 209.15" style="fill:#bb9181"/>
  <polygon points="58.699 193.405 122.451 139.38 88.009 64.347 58.699 193.405" style="fill:#edf2f2"/>
  <polygon points="145.86 32.111 203.567 64.347 182.352 140.069 145.86 32.111" style="fill:#edf2f2"/>
  <polygon points="240.953 187.942 203.567 64.347 182.352 140.069 240.953 187.942" style="fill:#eaeae9"/>
  <polygon points="266.734 260.49 197.998 152.848 289.275 227.42 266.734 260.49" style="fill:#dee2e9"/>
  <polygon points="138.516 246.445 160.549 246.445 149.991 164.167 138.516 246.445" style="fill:#784b40"/>
  <polygon points="182.352 140.069 160.549 246.445 149.991 164.167 182.352 140.069" style="fill:#633c35"/>
  <polygon points="160.549 246.445 194.516 215.806 182.352 140.069 160.549 246.445" style="fill:#5d352d"/>
  <polygon points="138.516 246.445 122.451 139.38 149.991 164.167 138.516 246.445" style="fill:#936856"/>
  <polygon points="102.254 209.15 138.516 246.445 122.451 139.38 102.254 209.15" style="fill:#a27c66"/>
  <polygon points="38.91 263.314 103.654 155.309 10.698 234.259 38.91 263.314" style="fill:#dee2e9"/>
  <polygon points="149.991 164.167 149.991 191.765 160.505 185.626 149.991 164.167" style="fill:#573229"/>
  <polygon points="149.991 164.167 149.991 191.765 139.478 185.626 149.991 164.167" style="fill:#e7baae"/>
  <polygon points="149.991 168.57 197.998 152.848 182.352 140.069 149.991 168.57" style="fill:#1c0f0b"/>
  <polygon points="131.341 217.813 174.12 212.816 156.232 207.425 131.341 217.813" style="fill:#4f1d1d"/>
  <polygon points="103.654 155.309 149.991 168.57 122.451 139.38 103.654 155.309" style="fill:#1c0f0b"/>
  <polygon points="145.86 32.111 122.451 139.38 149.991 168.57 145.86 32.111" style="fill:#fff"/>
  <polygon points="145.86 32.111 149.991 168.57 182.352 140.069 145.86 32.111" style="fill:#f1f5f9"/>
  <polygon points="197.998 152.848 206.953 166.871 191.358 155.023 197.998 152.848" style="fill:#1c0f0b"/>
  <polygon points="103.654 155.309 109.843 157.08 93.302 172.579 103.654 155.309" style="fill:#1c0f0b"/>
  </svg>
  <div id="text">

    </div>

    <script>
    window.i = -1;
    function printPoly(poly){
      i = window.i;
      var points = poly.getAttribute('points').split(' ');
      var str = "";
      for (var j = 0; j < points.length - 2; j+=2) {
        str += ("" + (parseFloat(points[j]) / 3) + "% " + (parseFloat(points[j+1]) / 3) + "%, " );
      }
      str.substr(0,points.length - 2);
      text.innerHTML += `#a${parseInt(i)+1}<br>`;
      text.innerHTML += `-webkit-clip-path: polygon(${str})<br>`;
      text.innerHTML += `clip-path: polygon(${str})<br>`;
      text.innerHTML += `background: ${ poly.getAttribute('fill') }<br>`;
    }
        var polygons = document.querySelectorAll('svg *')
        // var polys = [];
        for (var k = 0; k < polygons.length; k++) {
          var poly = polygons[k];
          poly.setAttribute('fill',poly.getAttribute('style').split(':')[1]);
          poly.style.fill = "#ffffff";
          poly.style.stroke = "#000000";
          poly.style.strokeWidth = 0.2;
        }
        // polys.sort(function(a,b){
        //   var recta = a.getBoundingClientRect();
        //   var rectb = b.getBoundingClientRect();
        //   return (100*Math.pow(recta.left,2) + Math.pow(recta.top,2) - 100*Math.pow(rectb.left,2) - Math.pow(rectb.top,2))
        // });
        // for (var i = 0; i < polys.length; i++) {
        //   var poly = polygons[i];
        //   var points = poly.getAttribute('points').split(' ');
        //   var str = "";
        //   for (var j = 0; j < points.length - 2; j+=2) {
        //     str += ("" + (parseFloat(points[j]) / 3) + "% " + (parseFloat(points[j+1]) / 3) + "%, " );
        //   }
        //   str.substr(0,points.length - 2);
        //   text.innerHTML += `#a${parseInt(i)+1}<br>`;
        //   text.innerHTML += `-webkit-clip-path: polygon(${str})<br>`;
        //   text.innerHTML += `clip-path: polygon(${str})<br>`;
        //   text.innerHTML += `background: ${ poly.getAttribute('style').split(' ')[1] }<br>`;
        // }
    document.body.onclick = function(e){
      if(e.target.tagName=="polygon" || e.target.tagName=="polyline") {
        window.i++;
        printPoly(e.target);
        if(e.target.style.fill == "#000000") e.target.style.fill = "#ffffff";
        else e.target.style.fill = "#000000";
        console.log(window.i);
      }
    }
    </script>
</body>

</html>
