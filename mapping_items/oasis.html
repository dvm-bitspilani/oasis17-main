<html>

<style media="screen">
  /*@keyframes lineani {
    0% {
      stroke-dashoffset: 200px;
      stroke-width: 0.2;
    }
    100% {
      stroke-dashoffset: 0px;
      stroke-width: 0.5;
    }
  }
  @keyframes lineanichu {
    0% {
      stroke-dashoffset: 200px;
      stroke-width: 0.2;
    }
    100% {
      stroke-dashoffset: -29px;
      stroke-width: 0.5;
    }
  }*/
  /*svg * {
    stroke-dasharray: 200px;
    stroke-dashoffset: 200px;
    animation: 10s lineani cubic-bezier(.7,.3,0,1) both;
  }*/
</style>

<!-- <link rel="stylesheet" href="../dist/css/oasisline.css"> -->

<body>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300">
        <polygon points="12.032 82.701 10.921 201.876 27.588 100.48 12.032 82.701" style="fill: #fc0c84"/>
        <polygon points="12.032 82.701 52.729 104.369 27.588 100.48 12.032 82.701" style="fill: #fa71cd"/>
        <polygon points="10.921 201.876 48.006 194.931 61.202 212.154 10.921 201.876" style="fill: #fc0c84"/>
        <polygon points="52.729 104.369 48.006 194.931 61.202 212.154 52.729 104.369" style="fill: #fa71cd"/>
        <polygon points="14.027 182.975 31.05 198.11 10.921 201.876 14.027 182.975" style="fill: #fa71cd"/>
        <polygon points="212.097 90.341 214.178 199.945 197.529 211.275 212.097 90.341" style="fill: #eaaa44"/>
        <polygon points="212.097 90.341 191.98 165.954 197.529 211.275 212.097 90.341" style="fill: #f5c571"/>
        <polygon points="73.462 118.675 90.315 213.682 67.721 190.902 73.462 118.675" style="fill: #00f5b2"/>
        <polygon points="73.673 118.689 112.724 120.898 107.194 133.875 73.673 118.689" style="fill: #00f5b2"/>
        <polygon points="77.932 143.691 107.194 133.875 73.673 118.689 77.932 143.691" style="fill: #05e082"/>
        <polygon points="112.724 120.898 102.723 179.605 94.389 163.863 112.724 120.898" style="fill: #05e082"/>
        <polygon points="82.629 171.132 94.389 163.863 102.723 179.605 82.629 171.132" style="fill: #00f5b2"/>
        <polygon points="112.724 120.898 114.668 212.293 102.723 179.605 112.724 120.898" style="fill: #00f5b2"/>
        <polygon points="172.928 109.04 174.994 130.328 162.689 120.447 172.928 109.04" style="fill: #39cef7"/>
        <polygon points="123.527 119.549 172.928 109.04 162.689 120.447 123.527 119.549" style="fill: #1a85ff"/>
        <polygon points="123.527 119.549 174.994 130.328 162.689 120.447 123.527 119.549" style="fill: #1dc5ff"/>
        <polygon points="123.527 119.549 126.222 179.19 143.916 159.609 123.527 119.549" style="fill: #1a85ff"/>
        <polygon points="126.222 179.19 175.174 163.202 143.916 159.609 126.222 179.19" style="fill: #1dc5ff"/>
        <polygon points="175.174 163.202 183.258 210.627 154.796 169.86 175.174 163.202" style="fill: #1a85ff"/>
        <polygon points="129.545 202.454 172.704 195.47 183.258 210.627 129.545 202.454" style="fill: #1dc5ff"/>
        <polygon points="129.545 202.454 134.126 217.274 183.258 210.627 129.545 202.454" style="fill: #1a85ff"/>
        <polygon points="278.681 108.337 280.76 129.768 268.372 119.821 278.681 108.337" style="fill: #c989f7"/>
        <polygon points="228.947 118.916 278.681 108.337 268.372 119.821 228.947 118.916" style="fill: #8401ff"/>
        <polygon points="228.947 118.916 280.76 129.768 268.372 119.821 228.947 118.916" style="fill: #c471f5"/>
        <polygon points="228.947 118.916 231.659 178.959 249.473 159.246 228.947 118.916" style="fill: #8401ff"/>
        <polygon points="231.659 178.959 280.941 162.863 249.473 159.246 231.659 178.959" style="fill: #c471f5"/>
        <polygon points="280.941 162.863 289.079 210.608 260.426 169.566 280.941 162.863" style="fill: #8401ff"/>
        <polygon points="235.005 202.379 278.454 195.348 289.079 210.608 235.005 202.379" style="fill: #c471f5"/>
        <polygon points="235.005 202.379 239.617 217.299 289.079 210.608 235.005 202.379" style="fill: #8401ff"/>
  </svg>
  <div id="text">

    </div>

    <script>
    window.i = -1;
    function printPoly(poly){
      i = window.i;
      var points = poly.getAttribute('points').split(' ');
      var str = "";
      for (var j = 0; j < points.length - 2; j+=2) {
        str += ("" + (parseFloat(points[j]) / 3) + "% " + (parseFloat(points[j+1]) / 3) + "%, " );
      }
      str.substr(0,points.length - 2);
      text.innerHTML += `#a${parseInt(i)+1}<br>`;
      text.innerHTML += `-webkit-clip-path: polygon(${str})<br>`;
      text.innerHTML += `clip-path: polygon(${str})<br>`;
      text.innerHTML += `background: ${ poly.getAttribute('fill') }<br>`;
    }
        var polygons = document.querySelectorAll('svg *')
        // var polys = [];
        for (var k = 0; k < polygons.length; k++) {
          var poly = polygons[k];
          poly.setAttribute('fill',poly.getAttribute('style').split(' ')[1]);
          poly.style.fill = "#ffffff";
          poly.style.stroke = "#000000";
          poly.style.strokeWidth = 0.2;
        }
        // polys.sort(function(a,b){
        //   var recta = a.getBoundingClientRect();
        //   var rectb = b.getBoundingClientRect();
        //   return (100*Math.pow(recta.left,2) + Math.pow(recta.top,2) - 100*Math.pow(rectb.left,2) - Math.pow(rectb.top,2))
        // });
        // for (var i = 0; i < polys.length; i++) {
        //   var poly = polygons[i];
        //   var points = poly.getAttribute('points').split(' ');
        //   var str = "";
        //   for (var j = 0; j < points.length - 2; j+=2) {
        //     str += ("" + (parseFloat(points[j]) / 3) + "% " + (parseFloat(points[j+1]) / 3) + "%, " );
        //   }
        //   str.substr(0,points.length - 2);
        //   text.innerHTML += `#a${parseInt(i)+1}<br>`;
        //   text.innerHTML += `-webkit-clip-path: polygon(${str})<br>`;
        //   text.innerHTML += `clip-path: polygon(${str})<br>`;
        //   text.innerHTML += `background: ${ poly.getAttribute('style').split(' ')[1] }<br>`;
        // }
    document.body.onclick = function(e){
      if(e.target.tagName=="polygon" || e.target.tagName=="polyline") {
        window.i++;
        printPoly(e.target);
        if(e.target.style.fill == "#000000") e.target.style.fill = "#ffffff";
        else e.target.style.fill = "#000000";
        console.log(window.i);
      }
    }
    </script>
</body>

</html>
